@inject IJSRuntime Js
@using Microsoft.AspNetCore.Components.Routing
@using Microsoft.JSInterop

<NavLink class="@Class" href="@Href" Match="@Match" @onclick="HandleClick">
    @ChildContent
</NavLink>

@code {
    [CascadingParameter]
    public LeftNavigationBar? NavBar { get; set; }

    [Parameter]
    public string? Href { get; set; }

    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    [Parameter]
    public string? Class { get; set; }

    [Parameter]
    public NavLinkMatch Match { get; set; } = NavLinkMatch.Prefix;

    private async Task HandleClick()
    {
        var screenWidth = await Js.InvokeAsync<double>("kaizenUI.getScreenWidth");
        if (screenWidth < 768) 
        {
            NavBar?.ToggleNav();
        }
    }
}
